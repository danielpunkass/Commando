/*************************************************************************************************//* Copyright 2005 Shane D. Looker.                                                               *//*                                                                                               *//* This source code is being made available as free sample code as is. No warantee, express or   *//* implied is made as to the quality or correctness of this code.                                *//* This source code may be freely distributed as long as this copyright notice remains attached. *//* Check http://www.MacCommando.com for updated source.                                          *//*************************************************************************************************/#import "AppDelegates.h"#import <stdio.h>#include <unistd.h>extern char** environ;@implementation AppDelegates- (void) applicationWillTerminate:(NSNotification *)aNotification{	[self taskSublauncher];//	printf("applicationWillTerminate was called.\n");//	char* arglist[] = {"ls", "-l", NULL//		};//	int result = execve("/bin/ls", arglist, environ);//	printf ("execve returned with %d. errno = %d\n", result, errno);}- (void) taskSublauncher{return;	NSTask	*subTask;	NSString	*pathStr = @"/bin/ls";		NSMutableArray	*argArray = [NSMutableArray arrayWithCapacity: 10];//	[argArray addObject: [NSString stringWithString: @"ls"]];	[argArray addObject: [NSString stringWithString: @"-al"]];		printf("About to NSTask launch\n");	subTask = [NSTask launchedTaskWithLaunchPath:pathStr arguments: argArray];	printf("Finished task launch. subTask = %x\n", subTask);	[subTask waitUntilExit];	printf("Done waiting.\n");}@end